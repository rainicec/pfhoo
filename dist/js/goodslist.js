"use strict";require(["config"],function(){require(["jquery","common"],function(c,s){c("#head").load("head",function(){require(["head"],function(){var s=!0;c("#hide").click(function(){s=(s?(c("#autinf").css("display","block"),c(this).attr("src","../css/img/trusted-web3_01.png")):(c("#autinf").css("display","none"),c(this).attr("src","../css/img/trusted-web4_01.png")),!s)}),setTimeout(function(){c("#autinf").css("display","none"),c("#hide").attr("src","../css/img/trusted-web4_01.png")},3e3),getCookie("user")?(c("#topnav .username").html(getCookie("user")),c("#topnav .loginout").html("退出"),c("#topnav .regsj").html("我的数据包"),c("#topnav .mesg").html("我的私信"),c("#topnav").on("click",".loginout",function(){removeCookie("user"),location.href="../index.html"})):(c("#topnav").on("click",".loginout",function(){location.href="login.html"}),c("#topnav").on("click",".regsj",function(){location.href="register.html"}))})}),c("#side").load("sidebar",function(){require(["sidebar"],function(){c("#side").on("click",".cart",function(){location.href="cart.html"})})}),c("#bottom_lam").load("bottom_con",function(){require(["bottom_con"])}),c("#foot").load("foot",function(){}),c("#total_nav").on("mouseenter",".classification",function(){c("#com_box").css("display","block"),c("#total_nav .classification").css({background:" #bc338b",color:"#fff"}),c("#total_nav .classification li:eq(0)").css("background-position"," 0 -87px")}),c("#total_nav").on("mouseleave",".classification",function(){c("#com_box").css("display","none"),c("#total_nav .classification").css({background:"#fff",color:"#bc338b"}),c("#total_nav .classification li:eq(0)").css("background-position"," 0 -59px")}),c("#com_box").mouseenter(function(){c(this).css("display","block"),c("#total_nav .classification").css({background:" #bc338b",color:"#fff"}),c("#total_nav .classification li:eq(0)").css("background-position"," 0 -87px")}),c("#com_box").mouseleave(function(){c(this).css("display","none"),c("#total_nav .classification").css({background:"#fff",color:"#bc338b"}),c("#total_nav .classification li:eq(0)").css("background-position"," 0 -59px")}),c("#com_box").on("mouseenter",".fashion_accessories",function(){c("#com_box .com_main1").css("display","block"),c(this).css("background","#fff"),c(this).css("color","#183b8c")}),c("#com_box").on("mouseleave",".fashion_accessories",function(){c("#com_box .com_main1").css("display","none"),c(this).css("background","#183b8c"),c(this).css("color","#fff")}),c("#com_box").on("mouseenter",".pure_silver_jewelry",function(){c("#com_box .com_main2").css("display","block"),c(this).css("background","#fff"),c(this).css("color","#183b8c")}),c("#com_box").on("mouseleave",".pure_silver_jewelry",function(){c("#com_box .com_main2").css("display","none"),c(this).css("background","#183b8c"),c(this).css("color","#fff")}),c("#com_box").on("mouseenter",".marketable_platform",function(){c("#com_box .com_main3").css("display","block"),c(this).css("background","#fff"),c(this).css("color","#183b8c")}),c("#com_box").on("mouseleave",".marketable_platform",function(){c("#com_box .com_main3").css("display","none"),c(this).css("background","#183b8c"),c(this).css("color","#fff")}),c("#com_box").on("mouseover",".com_class_main",function(){c(this).css("display","block")}),c("#com_box").on("mouseout",".com_class_main",function(){c(this).css("display","none")});var i=c("#goods_main ul li").outerHeight();c("#goods_main dl ul").css("height",i),c("#goods_main").on("click",".main_check_hide",function(){var s=c(this).prev().find("li").length/7;"更多"==c(this).find("span").html()?(c(this).prev().animate({height:Math.ceil(s)*i},500),c(this).find("span").html("隐藏")):(c(this).prev().animate({height:i},500),c(this).find("span").html("更多"))});var o=!1;c("#goods_main").on("click",".sel",function(){if(!o){c(this).parent().find(".selmain").slideToggle(100,function(){o=!0});var n=c(this).find("span").text();c("#goods_main .selmain div").each(function(s,i){n==c(i).text()&&(c(i).css("color","#bc338b"),c(i).siblings().css("color","black"))})}}),c("#goods_main").on("click",".selmain div",function(){c("#goods_main .sel span").html(c(this).text())}),c("#goods_main").on("mouseenter",".selmain div",function(){c(this).css("color","#bc338b"),c(this).siblings().css("color","black")}),c(window).on("click",function(){o&&c("#goods_main").find(".selmain").slideToggle(100,function(){o=!1})});var t=1,e=0,l=!1,r=!1,n=!0,a="up";function m(s,n){new Promise(function(i){c.ajax({type:"get",url:"../api/goodslist.php",data:"num=60&ipage="+s+"&isud="+n,success:function(s){i(s)}})}).then(function(s){var i=JSON.parse(s);!function(s){var i=s.np.map(function(s){var i=s.imgpath.split("&");return' <li class="list"  data-id="'+s.gid+'">\n                        <div class="box">\n                            <a href="###" class="img_vol">\n                                <img src="'+i[0]+'" alt="" class="brow_img">\n                            </a>\n                        </div>\n                        <div class="opt">\n                            <span>\n                                <img src="'+i[0]+'" alt="">\n                            </span>\n                            <span>\n                                <img src="'+i[1]+'" alt="">\n                            </span>\n                            <span>\n                                <img src="'+i[2]+'" alt="">\n                            </span>\n                        </div>\n                        <span class="price">批发：￥'+s.price+'</span>\n                        <span class="sales">成交额￥'+s.price+'</span>\n                        <p class="name">'+s.name+'</p>\n                        <span class="data_packet">数据包</span>\n                        <span class="incart">加入进货单</span>\n                        <div class="placeof_origin">\n                        '+s.origin+'：LKN\n                        </div>\n                        <span class="nowsal">现货销售</span>\n                        <span class="uptime">上架时间：2019/02</span>\n                    </li>'}).join("");c("#vol_list").html(i),e=Math.ceil(s.nr/s.num);var n='<span id="fist">首页</span><span id="pre">上一页</span>';if(s.ipage<=3)for(var o=0;o<5;o++)n+='<li data-id="'+(o+1)+'">'+(o+1)+"</li>";else if(3<s.ipage&&s.ipage<e-2)for(var o=1*s.ipage-2;o<1*s.ipage+3;o++)n+='<li data-id="'+o+'">'+o+"</li>";else if(s.ipage>=e-2)for(var o=e-4;o<e+1;o++)n+='<li data-id="'+o+'">'+o+"</li>";5<e&&2<e-s.ipage&&(n+="<i>...</i>");n+='<span id="next">下一页</span><span id="last">尾页</span>',c("#pig").html(n),$ipli=c("#pig li"),s.ipage<=3?$ipli.eq(s.ipage-1).addClass("nice"):3<s.ipage&&s.ipage<=e-2?$ipli.eq(2).addClass("nice"):s.ipage==e-1?$ipli.eq(3).addClass("nice"):s.ipage==e&&$ipli.eq(4).addClass("nice");l=1!=(t=s.ipage);r=t!=e;var a=document.getElementsByClassName("list");document.getElementsByClassName("brow_img");for(o=0;o<a.length;o++)a[o].onclick=function(s){"brow_img"!=s.target.className&&"name"!=s.target.className||(location.href="details.html?gid="+this.dataset.id)}}(i),"up"==i.isud?c("#goods_main .listbox .sort span:eq(4) i").css("background","url(../css/img/btnup.png)"):c("#goods_main .listbox .sort span:eq(4) i").css("background","url(../css/img/btndown.png)")})}c("#goods_main .listbox .sort span:eq(4)").click(function(){n=n?!(a="down"):(a="up",!0),m(t,a)}),m(t,a),document.getElementById("pig").onclick=function(s){"LI"==s.target.tagName&&m(s.target.innerHTML,a),"fist"==s.target.id&&l&&m(1,a),"pre"==s.target.id&&l&&m(t-1,a),"last"==s.target.id&&r&&m(e,a),"next"==s.target.id&&r&&m(1*t+1,a)}})});